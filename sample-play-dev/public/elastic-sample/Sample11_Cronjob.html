<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<!--  jQuery Mobile 1.4.2 CDN -->
<!-- 		<link rel="stylesheet" href="../html5/jqm/1.4.2/css/themes/default/jquery.mobile-1.4.2.min.css" /> -->
<!-- 		<script src="../html5/jq/jquery-1.9.1.min.js"></script> -->
<!-- 		<script src="../html5/jqm/1.4.2/js/jquery.mobile-1.4.2.min.js"></script> -->
		
		<!--  jQuery Mobile 1.3.2 CDN -->
		<link rel="stylesheet" href="../html5/jqm/1.3.2/css/themes/default/jquery.mobile-1.3.2.min.css" />
		<script src="../html5/jq/jquery-1.9.1.min.js"></script>
		<script src="../html5/jqm/1.3.2/js/jquery.mobile-1.3.2.min.js"></script>
		<script src="../html5/elastic-init-1.4.3.jsp"></script>
		<script src="../html5/elastic-util-1.5.js"></script>
</head>
<BODY>
	<div data-role="page">
		<div data-role="header">
			<h1>백그라운드 스케줄 작업 프로그램 작성 및 등록</h1>
			<a href="javascript:window.history.go(-1)" data-theme="a" data-ajax="false">Home</a>
		</div>
		
		<div data-role="content">
		<UL>
			<LI><B>Java 프로그램 작성 :</B> sample.elasticservice.service.Sample11_Cronjob.java<BR>
				<textarea>
public class Sample11_Cronjob extends ScheduleJob {

	private static final Logger LOG = Logger.getLogger(Sample11_Cronjob.class);

	private final String abc;
	private final Map map;

	public Sample11_Cronjob(String abc, Map map) {
		super(null);
		this.abc = abc;
		this.map = map;
	}

	public void run() {
		if (LOG.isTraceEnabled()) {
			LOG.trace("abc: " + abc);
			LOG.trace("map: " + map);
		}
	}
}</textarea>
			</LI>
			<P>
			<LI><B>스케줄 등록 : </B> /WEB-INF/elastic/bean-sample.xml<BR>
				<textarea>
	<!--
		사용자 정의 Cronjob 실행 
			. 주기적으로(예제에서는 매일 03:00에) sample.elasticservice.service.Sample11_Cronjob을 실행 한다.
	-->
	<cronjob id="Sample11_Cronjob" class="sample.elasticservice.service.Sample11_Cronjob" enable="true">
		<timeTable>
			<daily>
				<hour>03</hour>
				<minute>00</minute>
			</daily>
		</timeTable>
		<constructor-arg>
			<String name="abc">sample abc</String>
			<Map>
				<String key="aaa">AAAA</String>
				<boolean key="bbb">true</boolean>
				<int key="ccc">123</int>
				<long key="ddd">1234567</long>
			</Map>
		</constructor-arg>
	</cronjob></textarea>
			</LI>
			<P>
		</UL>
		</div>
	</div>
</BODY>
</HTML>
