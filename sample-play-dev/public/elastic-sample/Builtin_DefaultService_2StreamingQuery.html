<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<!--  jQuery Mobile 1.3.2 CDN -->
		<link rel="stylesheet" href="../html5/jqm/1.3.2/css/themes/default/jquery.mobile-1.3.2.min.css" />
		<script src="../html5/jq/jquery-1.9.1.min.js"></script>
		<script src="../html5/elastic-util-1.5.js"></script>
		
		<!-- 
			jQuery mobile의 event 관련 초기화 코드는 항상 여기에 둔다. 
			즉, jquery.js와 jquery.mobile.js 사이. 
		-->
		<script>
			function onSubmitForm() {
				document.form1.action = elastic_baseUrl();
				console.log(document.form1.action);
				return true;
			}
		</script>
		
		<script src="../html5/jqm/1.3.2/js/jquery.mobile-1.3.2.min.js"></script>
</head>
<BODY>
	<div data-role="page">
		<div data-role="header">
			<h1>Streaming Response for lots of data</h1>
			<a href="javascript:window.history.go(-1)" data-theme="a" data-ajax="false">Home</a>
		</div>

		<div data-role="content">
		<UL>
			<LI>
				<FORM METHOD="GET" Name="form1" onsubmit="return onSubmitForm();" data-ajax="false">
					<B>URL :</B> <script>document.write(elastic_baseUrl())</script><BR> 
					<div data-role="fieldcontain"> 
					?cmd=<INPUT TYPE=TEXT NAME='cmd' VALUE="elasticservice.service.QueryService"><BR>
					</div>
					<div data-role="fieldcontain"> 
					&cmd.resType=<SELECT NAME="cmd.resType">
						<OPTION VALUE="ME20">MakeElastic(ME20)</OPTION>
						<OPTION VALUE="PlatformXml">XML</OPTION>
						<OPTION VALUE="PWPLUS10">PWPLUS10</OPTION>
						<OPTION VALUE="PWPLUS15">PWPLUS15</OPTION>
						<OPTION VALUE="JSON10">JSON10</OPTION>
						<OPTION VALUE="JSON11">JSON11</OPTION>
						<OPTION VALUE="JSON12" selected>JSON12</OPTION>
						<OPTION VALUE="CSV">CSV</OPTION>
						</SELECT><BR>
					</div>
					<div data-role="fieldcontain"> 
					&sqlId=<INPUT TYPE=TEXT NAME='sqlId' VALUE="sample.mysql_select1" ><BR>
					</div>
					<div data-role="fieldcontain"> 
					&COL_CITY=<INPUT TYPE=TEXT NAME='COL_CITY' VALUE="Seoul"><BR>
					</div>
					<div data-role="fieldcontain"> 
					&COL_LIMIT=<INPUT TYPE=TEXT NAME='COL_LIMIT' VALUE="3000"><BR>
					</div>
					 <button id="btn">Submit</button>
				</FORM>
			</LI>
			<P>
			<LI><B>SQL XML :</B> esConfig/sqlrepo/sample/mysql_select1.xml<BR>
				<textarea>
<select id="mysql_select1" >
SELECT * FROM T_TEST
	<dynamic>
		<isNotEmpty property="CITY">
WHERE 
	CITY = #{CITY}
		</isNotEmpty>
		<isNotEmpty property="LIMIT">
			<isNotEqual property="LIMIT" compareValue="0">
	LIMIT ${LIMIT}
			</isNotEqual>
		</isNotEmpty>
	</dynamic>
</select>
				</textarea>
			</LI>
			<P>
		</UL>
		</div>
	</div>
</BODY>
</HTML>
