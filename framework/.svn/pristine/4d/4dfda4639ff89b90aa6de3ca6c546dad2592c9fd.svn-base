package scalacheck.elasticservice.util.ep

import org.scalacheck._
import org.scalacheck.Prop._
import elasticservice.util.ep.ColumnAttributes

object ColumnAttributesTest extends Properties("ColumnAttributes") {
	val genAttrList = Gen.nonEmptyListOf(
		Gen.frequency(
			9 -> Gen.alphaChar, 
			1  -> Gen.const('&')
		)
	).map { x => x.mkString }
	  
  property("toMap") = forAll (genAttrList) { 
		(attrStr: String) =>
			val ca = new ColumnAttributes(attrStr)
			val m = ca.toMap

			attrStr.split("&").forall(x => m.exists { case (k, v) => k == x && v == true } )
  }
}